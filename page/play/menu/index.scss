@use '../../shared/components.scss' as components;

@mixin default { > ui-menu {
	position: fixed;
	top: 0;
	right: 0;

	display: flex;
	flex-direction: column;
	gap: 0.5rem;
	margin: 0.5rem;

	z-index: 100;

	> ui-tabs {
		display: flex;
		justify-content: end;
		gap: 0.5rem;

		> ui-tab {
			display: block;
			height: 2rem;
			padding: 0.5rem;
			border: 1px transparent;

			cursor: pointer;

			// stay above dialog to ensure overlapping border
			z-index: 1;

			&:hover {
				> svg {
					stroke: var(--color-primary);
					fill: var(--color-primary);
				}
			}

			&[ui-active] {
				background: var(--color-background-dimmed);
				border: 1px solid var(--color-primary-dimmed);
				border-bottom: none;

				> svg {
					stroke: var(--color-primary);
					fill: var(--color-primary);
				}
			}

			> svg {
				height: 100%;
			}
		}
	}

	> ui-dialog {
		position: absolute;
		right: 0;
		// ensure overlapping border
		top: calc(100% - 1px);

		display: block;
		min-width: 100%, 10rem;
		padding: 1rem;

		background: var(--color-background-dimmed);
		border: 1px solid var(--color-primary-dimmed);

		// leave
		> ui-dialog-leave {
			display: block;

			> ui-text {
				display: block;
				margin-bottom: 1rem;

				color: var(--color-primary);
				text-align: end;
				white-space: nowrap;
			}

			> ui-action-group {
				display: flex;
				gap: 0.5rem;
				justify-content: end;

				> ui-action {
					@include components.action;
				}
			}
		}
	}

	@content;
}}
